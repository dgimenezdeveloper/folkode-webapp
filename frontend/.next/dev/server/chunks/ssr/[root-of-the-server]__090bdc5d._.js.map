{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/daseg/Documentos/FolKode-Group/proyectos/webapp-folkode/frontend/src/app/admin/layout.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useSession, SessionProvider } from 'next-auth/react'\nimport { useRouter, usePathname } from 'next/navigation'\nimport Link from 'next/link'\nimport Image from 'next/image'\nimport { \n  FiHome, \n  FiFolder, \n  FiUsers, \n  FiDollarSign, \n  FiMessageSquare,\n  FiSettings,\n  FiLogOut,\n  FiMenu,\n  FiX,\n  FiChevronDown\n} from 'react-icons/fi'\nimport { signOut } from 'next-auth/react'\n\ninterface NavItem {\n  name: string\n  href: string\n  icon: React.ComponentType<{ className?: string }>\n  children?: { name: string; href: string }[]\n}\n\nconst navigation: NavItem[] = [\n  { name: 'Dashboard', href: '/admin', icon: FiHome },\n  { \n    name: 'Proyectos', \n    href: '/admin/proyectos', \n    icon: FiFolder,\n    children: [\n      { name: 'Todos los proyectos', href: '/admin/proyectos' },\n      { name: 'Crear proyecto', href: '/admin/proyectos/nuevo' },\n    ]\n  },\n  { \n    name: 'Clientes', \n    href: '/admin/clientes', \n    icon: FiUsers,\n    children: [\n      { name: 'Todos los clientes', href: '/admin/clientes' },\n      { name: 'Agregar cliente', href: '/admin/clientes/nuevo' },\n    ]\n  },\n  { \n    name: 'Finanzas', \n    href: '/admin/finanzas', \n    icon: FiDollarSign,\n    children: [\n      { name: 'Transacciones', href: '/admin/finanzas' },\n      { name: 'Nueva transacción', href: '/admin/finanzas/nueva' },\n    ]\n  },\n  { name: 'Mensajes', href: '/admin/mensajes', icon: FiMessageSquare },\n  { name: 'Configuración', href: '/admin/configuracion', icon: FiSettings },\n]\n\nfunction AdminLayoutContent({ children }: { children: React.ReactNode }) {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n  const pathname = usePathname()\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [expandedItems, setExpandedItems] = useState<string[]>([])\n\n  useEffect(() => {\n    if (status === 'unauthenticated' && pathname !== '/admin/login') {\n      router.push('/admin/login')\n    }\n  }, [status, router, pathname])\n\n  const toggleExpanded = (name: string) => {\n    setExpandedItems(prev => \n      prev.includes(name) \n        ? prev.filter(item => item !== name)\n        : [...prev, name]\n    )\n  }\n\n  const isActive = (href: string) => {\n    if (href === '/admin') {\n      return pathname === '/admin'\n    }\n    return pathname.startsWith(href)\n  }\n\n  // Allow login page without authentication\n  if (pathname === '/admin/login') {\n    return <>{children}</>\n  }\n\n  if (status === 'loading') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-[#0a0f1a]\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"w-14 h-14 border-4 border-[#86A869] border-t-transparent rounded-full animate-spin\"></div>\n          <p className=\"text-gray-400 font-medium\">Cargando...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (status === 'unauthenticated') {\n    return null\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#0a0f1a] relative lg:flex\">\n      {/* Mobile sidebar backdrop */}\n      {sidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside className={`\n        fixed top-0 left-0 z-40 h-full w-72 bg-[#0f1520] border-r border-[#1e2a3a] transform transition-transform duration-300 ease-in-out\n        ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'}\n        lg:relative lg:translate-x-0 lg:h-auto lg:top-0 lg:flex-shrink-0\n      `}>\n        {/* Logo */}\n        <div className=\"flex items-center justify-between h-20 px-6 border-b border-[#1e2a3a]\">\n          <Link href=\"/admin\" className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-[#86A869] to-[#3383B7] p-0.5\">\n              <div className=\"w-full h-full rounded-[10px] bg-[#0f1520] flex items-center justify-center\">\n                <Image\n                  src=\"/folkode-logo.webp\"\n                  alt=\"Folkode\"\n                  width={24}\n                  height={24}\n                  className=\"rounded\"\n                />\n              </div>\n            </div>\n            <div>\n              <span className=\"text-white font-bold text-lg\">Folkode</span>\n              <p className=\"text-xs text-gray-500\">Admin Panel</p>\n            </div>\n          </Link>\n          <button \n            onClick={() => setSidebarOpen(false)}\n            className=\"lg:hidden p-2 rounded-lg text-gray-400 hover:text-white hover:bg-[#1e2a3a] transition-colors\"\n          >\n            <FiX size={20} />\n          </button>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"flex-1 overflow-y-auto py-6 px-4\">\n          <ul className=\"space-y-2\">\n            {navigation.map((item) => (\n              <li key={item.name}>\n                {item.children ? (\n                  <div>\n                    <button\n                      onClick={() => toggleExpanded(item.name)}\n                      className={`\n                        w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200\n                        ${isActive(item.href) \n                          ? 'bg-gradient-to-r from-[#86A869]/20 to-[#3383B7]/20 text-white border border-[#86A869]/30' \n                          : 'text-gray-400 hover:bg-[#1e2a3a] hover:text-white'}\n                      `}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <item.icon className={`w-5 h-5 ${isActive(item.href) ? 'text-[#86A869]' : ''}`} />\n                        <span className=\"font-medium\">{item.name}</span>\n                      </div>\n                      <FiChevronDown className={`w-4 h-4 transition-transform duration-200 ${\n                        expandedItems.includes(item.name) ? 'rotate-180' : ''\n                      }`} />\n                    </button>\n                    {expandedItems.includes(item.name) && (\n                      <ul className=\"mt-2 ml-4 space-y-1 border-l-2 border-[#1e2a3a]\">\n                        {item.children.map((child) => (\n                          <li key={child.name}>\n                            <Link\n                              href={child.href}\n                              className={`\n                                block px-4 py-2.5 ml-2 rounded-lg text-sm transition-all duration-200\n                                ${pathname === child.href \n                                  ? 'bg-[#86A869]/15 text-[#86A869] font-medium' \n                                  : 'text-gray-500 hover:text-white hover:bg-[#1e2a3a]'}\n                              `}\n                            >\n                              {child.name}\n                            </Link>\n                          </li>\n                        ))}\n                      </ul>\n                    )}\n                  </div>\n                ) : (\n                  <Link\n                    href={item.href}\n                    className={`\n                      flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200\n                      ${isActive(item.href) \n                        ? 'bg-gradient-to-r from-[#86A869]/20 to-[#3383B7]/20 text-white border border-[#86A869]/30' \n                        : 'text-gray-400 hover:bg-[#1e2a3a] hover:text-white'}\n                    `}\n                  >\n                    <item.icon className={`w-5 h-5 ${isActive(item.href) ? 'text-[#86A869]' : ''}`} />\n                    <span className=\"font-medium\">{item.name}</span>\n                  </Link>\n                )}\n              </li>\n            ))}\n          </ul>\n        </nav>\n\n        {/* User section */}\n        <div className=\"border-t border-[#1e2a3a] p-4 mx-4 mb-4\">\n          <div className=\"flex items-center gap-3 mb-4 p-3 rounded-xl bg-[#1e2a3a]/50\">\n            <div className=\"w-11 h-11 rounded-xl bg-gradient-to-br from-[#86A869] to-[#3383B7] flex items-center justify-center text-white font-bold text-lg\">\n              {session?.user?.name?.charAt(0) || 'A'}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-white font-semibold truncate\">{session?.user?.name || 'Admin'}</p>\n              <p className=\"text-gray-500 text-sm truncate\">{session?.user?.email}</p>\n            </div>\n          </div>\n          <button\n            onClick={() => signOut({ callbackUrl: '/admin/login' })}\n            className=\"flex items-center justify-center gap-2 w-full px-4 py-3 text-gray-400 hover:text-white bg-[#1e2a3a]/50 hover:bg-red-500/20 hover:text-red-400 rounded-xl transition-all duration-200\"\n          >\n            <FiLogOut className=\"w-5 h-5\" />\n            <span className=\"font-medium\">Cerrar sesión</span>\n          </button>\n        </div>\n      </aside>\n\n      {/* Main content */}\n      <div className=\"flex-1 transition-all duration-300\">\n        {/* Top header */}\n        <header className=\"sticky top-0 z-30 flex items-center h-20 px-6 bg-[#0a0f1a]/80 backdrop-blur-xl border-b border-[#1e2a3a]\">\n          <button\n            onClick={() => setSidebarOpen(true)}\n            className=\"lg:hidden p-2 rounded-lg text-gray-400 hover:text-white hover:bg-[#1e2a3a] mr-4 transition-colors\"\n          >\n            <FiMenu size={22} />\n          </button>\n          \n          <div className=\"flex-1\">\n            \n            <h1 className=\"text-sm text-gray-500\">\n              Panel de administración\n            </h1>\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            <Link \n              href=\"/\" \n              target=\"_blank\"\n              className=\"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white bg-[#1e2a3a] hover:bg-[#2a3a4a] rounded-lg transition-all duration-200\"\n            >\n              Ver sitio →\n            </Link>\n          </div>\n        </header>\n\n        {/* Page content */}\n        <main className=\"p-4 sm:p-6 lg:p-8 max-w-screen-xl mx-auto w-full min-h-[calc(100vh-5rem)]\">\n          {children}\n        </main>\n      </div>\n    </div>\n  )\n}\n\nexport default function AdminLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <SessionProvider>\n      <AdminLayoutContent>{children}</AdminLayoutContent>\n    </SessionProvider>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}